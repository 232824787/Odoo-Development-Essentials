# Chapter 4 Data Serialization and Module Data 数据序列化以及模块数据
****************

Most Odoo configurations, from user interfaces to security rules, are actually
data records stored in internal Odoo tables. The XML and CSV files found in modules are not used to run Odoo applications. They are just a means to load those configurations into the database tables.  

从用户界面到安全规则，大多数的Odoo配置，实际数据记录都是存储在Odoo表的内部。模块中发现的XML和CSV并不用来运行Odoo应用。它们仅表示将文件中的配置载入到数据库表中。  

Because of this, an important part of Odoo modules is about representing (serializing) that data into files so that it can be later loaded into a database.  

因此，Odoo模块中很重要的一部分是关于数据到文件的表现（序列化），所以这些数据文件可以稍晚时候再载入到数据库。  

Modules can also have initial and demonstration (fixture) data. Data serialization allows adding that to our modules. Additionally, understanding Odoo data serialization formats is important in order to export and import data in the context of a project implementation.  

模块也可以拥有初始和说明（固定的）数据。数据序列化允许对模块添加这些数据。此外，理解Odoo的数据序列化格式在一个项目实现的上下文中导入和导出数据显得特别重要。  

Before we go into practical cases, we will first explore the external identifier concept, which is the key to Odoo data serialization.  

在我们开始实际演练之前，我们首先来浏览外部标识符的概念，这也是Odoo数据序列化的关键所在。  

## Understanding external identifiers 理解外部标识符
All records in the Odoo database have a unique identifier, the `id` field.  

在Odoo数据中的所有记录都拥有一个唯一的标识符，`id`字段。   

It is a sequential number automatically assigned by the database. However, this automatic identifier can be a challenge when loading interrelated data: how can we reference a related record if we can't know beforehand what database ID will be assigned to it?  

这是一个由数据库赋值的依序数字。不过，在载入相互关联的数据时自动标识符就是个障碍：在我们不知道

Odoo's answer to this is the external identifier. External identifiers solve this problem by assigning named identi ers to the data records to be loaded. A named identifier can be used by any other piece of record data to reference it later on. Odoo will take care of translating these identi er names into the actual database IDs assigned to them.  

Odoo对于这种情况的回答是扩展标识符。扩展标识符依靠对需要载入的数据记录赋予命名标识符来解决这个问题。

The mechanism behind this is quite simple: Odoo keeps a table with the mapping between the named External IDs and their corresponding numeric database IDs. That is the ir.model.data model.  

To inspect the existing mappings, go to the **Technical** section of the **Settings** menu, and select the **Sequences & Identifiers** | **External Identifiers** menu item.  

检查现存的映射，可以找到“设置”菜单的“技术”部分，然后选择“序列与标识符｜外部标识符”菜单选项。  

For example, if we visit the **External Identifiers** list and filter it by the `todo_app` module, we will see the external identifiers generated by the module created previously.  

例如，如果我们访问“外部标识符”列表，然后输入`todo_app`进行过滤，我们可以看见模块在之前创建的外部标识符。  

img:omit  

You can see that the external identi ers have a **Complete ID** label. This is composed of the module name and the identifier name joined by a dot, for example, `todo_app.action_todo_task`.  

你可以看到外部标识符拥有一个“完整ID”标签。

Since only the **Complete ID** is required to be unique, the module name ends up acting as a namespace for identi ers. This means that the same named identi er can be repeated in different modules, and we don't need to worry about identi ers in our module colliding with identi ers in other modules.  

At the top of the list, you can see the `todo_app.action_todo_task` ID. This is the menu action we created for the module, which is also referenced in the corresponding menu item. By clicking on it, you can open a form with its details: the `action_todo_task` in the `todo_app` module maps to a specific record ID in the `ir.actions.act_window` model.  

在列表的顶部，你可以看到 `todo_app.action_todo_task`ID。这是一个我们为模块创建的菜单动作，它也被应用到了对应的菜单项目中。通过点击这个菜单，你可以打开一个拥有自身细节的表单：`todo_app`模块中的`action_todo_task`被映射到了`ir.actions.act_window`模型中的指定记录ID。  

img:omit  

Besides providing a way for records to easily reference other records, External IDs also allow avoiding data duplication on repeated imports. If the External ID is already present, the existing record will be updated, instead of creating a new record. This is why, on subsequent module upgrades, previously loaded records are updated instead of being duplicated.  

除了为记录提供了简单的引用其它记录值一种办法之外，外部ID也能够在重复导入时避免数据的重复。如果外部ID已经存在，那么存在的记录将被更新，而不是另外创建一个新纪录。

### Finding External IDs 寻找外部ID
When preparing configuration and demonstration data files for modules, we frequently need to look up existing External IDs that are needed for references.  

当我们准备为模块配置

We can use the External Identi ers menu shown earlier, but the **Developer Menu** can provide a more convenient method for that. As you may recall from `Chapter 1, Getting Started with Odoo Development`, the **Developer Menu** is activated in the About Odoo option, and then, it is available at the top-left corner of the web client view.  

To  nd the External ID for a data record, on the corresponding Form view, select the **View Metadata** option from the **Developer Menu**. This will display a dialog with the record's database ID and External ID (also known as XML ID).  

As an example, to look up the Demo user ID, we can navigate to its Form view (Settings | Users) and select the View Metadata option, after which we will be shown this:  

img:omit   

To find the External ID for view elements, such as form, tree, search, and action, the **Developer Menu** is also a good help. For that, use its **Manage Views** option or open the information for the desired view using the **Edit <view type>** options, and then select their **View Metadata** option.  

## Exporting and importing data 导出和导入数据
We will start exploring how data export and import work in Odoo, and from there, we will move on to the more technical details.  

### Exporting data 导出数据
Data export is a standard feature available in any List view. To use it, we must first select the rows to export by selecting the corresponding checkboxes on the far left, and then select the **Export** option from the **More** button.

数据导出是在任何一个列表视图中有存在的标准功能。要使用它，首先，我们必须选择

Here is an example, using the recently created to-do tasks:  

下面是一个例子，使用最近创建的to-do tasks：  

img:omit  

The **Export** option takes us to a dialog form, where we can choose what to export. The **Import Compatible Export** option makes sure that the exported file can be imported back to Odoo. We will need to use this.  

“导出”选项把我们带到一个对话表单，这里我们可以选择希望导入的内容。

The export format can be CSV or Excel. We will prefer CSV file to get a better understanding of the export format. Next, we should pick the columns we want to export and click on the **Export To File** button. This will start the download of a file with the exported data.  

导出格式可以是CSV或者EXcel。我们倾向于选择CSV文件以更好理解导出的格式。接下来，我们应该选择我们希望导入的列，然后点击“导出到文件”按钮。这样做会下载一个含有导出数据的文件。  

img:omit  

If we follow these instructions and select the fields shown in the preceding screenshot, we should end up with a CSV text file similar to this:  

如果我们依照这些命令，然后选择之前截图中出现的字段，我们应该向下面这样结束一个CSV文本文件：  

```csv
   "id","name","user_id/id","date_deadline","is_done"
   "__export__.todo_task_1","Install Odoo","base.user_root","2015-01-
   30","True"
   "__export__.todo_task_2","Create dev database","base.user_
   root","","False"
```

Notice that Odoo automatically exported an additional id column. This is an External ID that is automatically generated for each record. These generated External IDs use `__export__` in place of an actual module name. New identi ers are only assigned to records that don't already have one, and from there on, they are kept bound to the same record. This means that subsequent exports will preserve the same External IDs.  

注意Odoo可以自动地导出外部id列。这是一个为每个记录自动生成的ID。这些外部ID

## Importing data 导入数据
First we have to make sure the import feature is enabled. This is done in the Settings menu, **Configuration** | **General Settings** option. Under the Import / Export topic, make sure the **Allow users to import data from CSV files** checkbox is enabled.  

首先，我们必须确保导入功能启用。你可以运用设置菜单中的“配置｜通用设置”选项来完成这项操作。

With this option enabled, the List views show an **Import** option next to the **Create** button at the top of the list.  

当启用这个选项时，列表视图显示一个“导入”选项，旁边是一个在列表顶部的“创建”按钮。  

Let's perform a mass edit on our to-do data: open in a spreadsheet or a text editor the CSV file we just downloaded, then change a few values and add some new rows.  

让我们来对to－do数据执行批量编辑：在电子表格或者文本编辑器中打开我们刚才下载的CSV文件，然后改版几个值，再添加几个新行。  

As mentioned before, the first `id` column provides a unique identifier for each row allowing already existing records to be updated instead of duplicated when we import the data back to Odoo. For new rows we may add to the CSV  le, the id should be left blank, and a new record will be created for them.  

就像之前说的那样，第一个`id`列为每一个行都提供了唯一标识符，以允许已经存在的记录可以被更新，而不是被复制，

After saving the changes on the CSV file, click on the **Import** option (next to the **Create** button) and we will be presented with the import assistant. There we should select the CSV file location on disk and click on **Validate** to check its format for correctness. Since the file to import is based on an Odoo export, there is a good chance it will be valid.  

当保存对CSV文件变更之后，点击“导入”选项（靠近“创建”按钮），我们

img:omit  

Now we can click on Import and there you go: our modifications and new records should have been loaded into Odoo.  

现在，我们可以点击“导入”就可以得到你想要的结果：我们的修改以及新纪录都应该被载入到了Odoo中。  

### Related records in CSV data files CSV数据文件中的关联记录
In the example seen above, the user responsible for each task is a related record in the users model, with a many to one (or foreign key) relation. The column name used for it was `user_id/id` and the  eld values were External IDs for the related records, such as `base.user_root` for the administrator user.  

在上面的例子中，用户负责的每个一个任务都是用户模型的关联记录，

Relation columns should have `/id` appended to their name, if using External IDs, or `/.id`, if using database (numeric) IDs. Alternatively, a colon (`:`) can be used in place of the slash for the same effect.   

如果使用外部ID的话，关联列应该将`/id`追加到自己的名字上，

Similarly, **many to many** relations are also supported. An example of a many to many relations is the one between Users and Groups: each User can be in many Groups, and each Group can have many Users. The column name for this type offi eld should have appended a `/id`. The field values accept a comma-separated list of External IDs, surrounded by double quotes.  

类似的，“多对多”关系也是被支持的。一个多对多关系的例子就是用户和组之间的关系：每个用户都可能属于多个组，而每个组也可以拥有多个用户。

For example, the to-do task follower is a many-to-many relation between To-do Tasks and Partners. It's column name could be `follower_ids/id` and a field value with two followers could be:  

例如，to-do task 的关注者在 To-do Tasks和Partners之间是一个多对多关系。它的列名称是`follower_ids/id`，而且一个字段值拥有两个关注者：  

```csv
"__export__.res_partner_1,__export__.res_partner_2"
```

Finally, **one to many** relations can also be imported through a CSV. The typical example of this type of relations is a document "head" with several "lines".  

最后，“一对多”关系也可以通过CSV来导入。这种关系类型的典型例子是一个文档“头部”含有多个“行”。  

We can see an example for such a relation in the company model (form view available in the **Settings** menu): a company can have several bank accounts, each with its own details, and each bank account belongs to (has a many-to-one relation with) only one company.  

我们看到company模型中就有这类关系的一个例子（“设置”菜单中可用的表单视图）：一家公司拥有多个银行帐户，每个账户都拥有自己的具体内容，而且每个银行帐户都只属于（属于多对一的关系）一家公司。  

It's possible to import companies along with their bank accounts in a single file. For this, some columns will correspond to the company, and other columns will correspond to the bank account details. The bank details column names should be pre xed with the one-to-many  elds linking the company to the banks; `bank_ids` in this case.  



The first bank account details goes in the same row as its related company data. The next bank account's details go in the next rows, but only the bank details related columns should have values; the company data columns should be empty in those lines.  

Here is an example loading a company with three banks:  

```csv
   id,name,bank_ids/id,bank_ids/acc_number,bank_ids/state
   base.main_company,YourCompany,__export__.res_partner_
   bank_4,123456789,bank
   ,,__export__.res_partner_bank_5,135792468,bank
   ,,__export__.res_partner_bank_6,1122334455,bank
```


Notice that the two last lines begin with two commas: this corresponds to empty values in the first two columns, id and name, regarding the head company data. But the remaining columns, regarding bank accounts, have the values for the second and third bank records.  

注意，最后两行以两个都好开始：这对应了头两行中的空值，

These are the essentials on working with export and import from the GUI. It's useful to set up data in new Odoo instances, or to prepare data  les to be included in Odoo modules. Next we will learn more about using data  les in modules.  

## Module data 模块数据
Modules use data files to load their configurations into the database, initial data and demonstration data. This can be done using both CSV and XML files. For completeness, the YAML file format can also be used, but this is rarely used for data loading, so we won't be discussing it.  

模块使用数据文件将配置载入到数据库，初始化数据和说明数据。使用CSV文件和XML文件可以实现这个目的。

CSV files used by modules are exactly the same as those we have seen and used for the import feature. When using them in modules, the only additional restriction is that the  le name must match the name of the model to which the data will be loaded.  

A common example is security access, to load into the `ir.model.acess` model. This is usually done using CSV files, and they should be named `ir.model.acess.csv`.  

常见的一个例子是安全访问，载入到`ir.model.acess`模型。通常使用CSV文件来完成这项操作，而且CSV文件应该使用名称`ir.model.acess.csv`。  

### Demonstration data 说明数据
Odoo modules may install demo data. This is useful to provide usage examples for a module and data sets to be used in tests. It's considered good practice for modules to provide demonstration data. Demonstration data for a module is declared using the demo attribute of the `__openerp__.py` manifest file. Just like the data attribute, it is a list of  le names with the corresponding relative paths inside the module.  

Odoo模块也可以安装演示数据。

We will be adding demonstration data to our `todo_user` module. We can start by exporting some data from the to-do tasks, as explained in the previous section. Next we should save that data in the `todo_user` directory with  le name todo.task.csv. Since this data will be owned by our module, we should edit the id values to replace the `__export__` prefix in the identifiers with the module technical name.  

我们对`todo_user`模块添加示范数据。

As an example our `todo.task.csv` data file might look like this:  

```csv
   id,name,user_id/id,date_deadline
   todo_task_a,"Install Odoo","base.user_root","2015-01-30"
   todo_task_b","Create dev database","base.user_root",""
```


We must not forget to add this data file to the `__openerp__.py` manifest demo attribute:  

我们一定不能忘记将这个数据文件添加到清单文件`__openerp__.py`的demo属性中：  

```
'demo': ['todo.task.csv'],
```

Next time we update the module, as long as it was installed with demo data enabled, the content of the file will be imported. Note that this data will be rewritten whenever a module upgrade is performed.  

下一次，我们更新模块时，

XML files can also be used for demonstration data. Their file names are not required to match the model to load, because the XML format is much richer and that information is provided by the XML elements inside the file.  

XML文件也可以被用做示范数据。它们的文件名并不需要匹配被载入的模型，因为XML格式更为丰富，需要的信息由

Let's learn more about what XML data files allow us to do that CSV files don't.  

让我们来学习更多的关系XML数据文件可以做到而CSV文件不能做的事情。  

## XML data files XML数据文件
While CSV files provide a simple and compact format to serialize data, XML files are more powerful and give more control over the loading process.  

当CSV文件对序列化数据提供了一个简单而小巧的格式时，XML文件成为最强大、可以更为牢固地控制载入过程。  

We have already used XML data files in the previous chapters. The user interface components, such as views and menu items, are in fact records stored in system models. The XML files in the modules are a means used to load those records into the server.  

在之前的章节我们已经使用XML数据。用户接口组件，比如视图和菜单选项中的实际记录是存储在系统模型中的。

To showcase this, we will add a second data file to the todo_user module, named todo_data.xml, with the following content:  

为了说明这种情况，我们添加第二个称作todo_data.xml的包含下列内容的数据文件到todo_user模块：  

```xml
   <?xml version="1.0"?>
   <openerp>
     <data>
       <!-- Data to load -->
       <record model="todo.task" id="todo_task_c">
         <field name="name">Reinstall Odoo</field>
         <field name="user_id" ref="base.user_root" />
         <field name="date_deadline">2015-01-30</field>
       </record>
     </data>
</openerp>
```

This XML is equivalent to the CSV data file we have just seen in the previous section.  

XML data  les have a `<openerp>` element containing `<data>` elements, inside of which we can have have several `<record>` elements, corresponding to the CSV data rows.  

A `<record>` element has two mandatory attributes, `model` and `id` (the external identifier for the record), and contains a `<field>` tag for each field to write on.  

Note that the slash notation in field names is not available here: we can't use `<field name="user_id/id">`. Instead the `ref` special attribute is used to reference External IDs. We'll discuss the values for the relational "to many"  elds in a moment.  


### The data noupdate attribute 数据的非更新属性
When the data loading is repeated, existing records from the previous run are rewritten.  

当数据载入发生重复时，之前运行的已存在记录会被重写。  

This is important to keep in mind: it means that upgrading a module will overwrite any manual changes that might have been made to the data. Notably, if views were modi ed with customizations, those changes will be lost with the next module upgrade. The correct procedure is to instead create inherited views for the changes we need, as discussed in the `Chapter 3, Inheritance – Extending Existing Applications`.  



This overwrite behavior is the default, but it can be changed, so that when an already created record is loaded again no change is made to it. This is done by adding to the `<data>` element a `noupdate="1"` attribute. With this, its records will be created the  rst time they are loaded, and in subsequent module upgrades nothing will be done to them.  

This allows for manually made customizations to be safe from module upgrades. It is often used with record access rules, allowing them to be adapted to implementation specific needs.  

It is also possible to have more than one `<data>` section in the same XML  le. We can take advantage of this to have a data set with noupdate="1" and another with noupdate="0".  

The `noupdate` flag is stored in the External Identi er information for each record. It's possible to edit it directly using the External Identifier form available in the Technical menu, with the **Non Updatable** checkbox.  


>### Tips
>The `noupdate` attribute is tricky when developing modules, because changes made to the data later will be ignored, and Odoo won't pick up later modi cations. A solution is to keep `noupdate="0"` during development and only set it to 1 once finished.

### Defining Records in XML 在XML中定义记录
Each <record> element has two basic attributes, id and model, and contains <field> elements assigning values to each column. As mentioned before, the id attribute corresponds to the record's External ID and the model to the target model where the record will be written. The <field> elements have available a few different ways to assign values. Let's look at them in detail.

### Setting field values 设置字段的值
The <record> element de nes a data record, and contains <field> elements to set values on each  eld.
The name attribute of the  eld element identi es the  eld to be written.
The value to write is the element content: the text between the  eld's opening and closing tag. In general this is also suitable to set non-text values: for Booleans, "0"/ "1" or "False"/"True" values will be correctly converted; for dates and datetimes, stringswith"YYYY-MM-DD"and"YYYY-MM-DD HH:MI:SS"willbeconvertedproperly.

### Setting values using expressions 使用表达式设置值
A more advanced alternative to define a field value is using the eval attribute instead. This evaluates a Python expression and assigns the resulting value to the field.  

The expression is evaluated in a context that, besides Python built-ins, also has some additional identi ers available. Let's have a look at them.  

To handle dates, the following modules are available: time, datetime, timedelta and relativedelta. They allow calculating date values, something that is frequently used in demonstration (and test) data. For example, to set a value to yesterday we would use:  

为了处理日期，下列模块是使用的：time, datetime, timedelta 以及 relativedelta。它们能够计算日期的值，

```xml
   <field name="expiration_date" eval="(datetime.now() + timedelta(-1)).strftime('%Y-%m-%d')" />
```

Also available in the evaluation context is the ref() function, used to translate an External ID into the corresponding database ID. This can be used to set values for relational fields. As an example, we have used it before to set the value for the user_id:  

在求值上下文中还可以使用的是ref()函数，该函数用来翻译外部ID到对象的数据库ID。它可以用来设置关联字段的值。例如，我们之前曾使用它为user_id设置值。  

```xml
   <field name="user_id" eval="ref('base.group_user')" />
```

The evaluation context also has a reference available to the current Model being written through obj. It can be used together with ref() to access values from other records. Here is an example from the Sales module:  

```xml
   <value model="sale.order" eval="obj(ref('test_order_1')).amount_total" />
```

### Setting values for relation fields 为关联字段设置值
We have just seen how to set a value on a many-to-one relation  eld, such as user_id, using the eval attribute with a ref() function. But there is a simpler way.  

The <field> element also has a ref attribute to set the value for a many-to-one  eld using an External ID. Using it, we can set the value for user_id using just:  

```xml
   <field name="user_id" ref="base.group_user" />
```

For one-to-many and many-to-many fields, a list of related IDs is expected, so a different syntax is needed, and Odoo provides a special syntax to write on this type of fields.  

对于一对多和多对多字典，需要用到关联ID的列表，所以也就需要不同的语法来实现，而且Odoo也为提供了特殊的语法来写这种类型的字段。  

The following example, taken from the Fleet app, replaces the list of related records of a tag_ids field:  

```xml
   <field name="tag_ids"
     eval="[(6,0,
       [ref('vehicle_tag_leasing'),
       ref('fleet.vehicle_tag_compact'),
       ref('fleet.vehicle_tag_senior')])]" />
```

To write on a to many-field we use a list of triples. Each triple is a write command that does different things according to the code used:  

我们使用一个三元组列表来重写多个字段。对于所用的代码，每个三元组都是一个实现不同事情的写命令：   

- (0,_ ,{'field': value}): This creates a new record and links it to this one
- (1,id,{'field': value}): This updates values on an already linked record
- (2,id,_): This unlinks and deletes a related record
- (3,id,_): This unlinks but does not delete a related record
- (4,id,_): This links an already existing record
- (5,_,_): This unlinks but does not delete all linked records
- (6,_,[ids]): This replaces the list of linked records with the provided list

- (0,_ ,{'field': value}): 创建一的新的记录，并把新纪录链接过来。
- (1,id,{'field': value}): 对一个已有的链接记录更新值。
- (2,id,_): unlink 和 delete 一条关联记录。
- (3,id,_): 对关联的记录仅执行unlink而不是delete
- (4,id,_): 链接到一条现有的记录。
- (5,_,_)：对全部链接的记录执行unlink而不是delete。
- (6,_,[ids])：使用用户提供的链接来替换链接记录的列表。  

The underscore symbol used above represents irrelevant values, usually filled with 0 or False.  

上面用到的下划线符号表示无关联的值，通常使用0或者False来填充。  

### Shortcuts for frequently used Models 常用模型的快捷键
If we go back to Chapter 2, Building Your First Odoo Application, we can find in the XML files elements other than `<record>`, such as `<act_window>` and `<menuitem>`.  

These are convenient shortcuts for frequently used Models that can also be loaded using regular `<record>` elements. They load data into base Models supporting the user interface and will be explored in more detail later, in Chapter 6, Views - Designing the User Interface.   

For reference, so that we can better understand XML  les we may encounter in existing modules, the following shortcut elements are available with the corresponding Models they load data into:  

- <act_window>: This is the Window Actions model ir.actions.act_window
- <menuitem>: This is the Menu Items model ir.ui.menu
- <report>: This is the Report Actions model ir.actions.report.xml
- <template>: This is View QWeb Templates stored in model ir.ui.view
- <url>: This is the URL Actions model ir.actions.act_url

### Other actions in XML data files XML数据文件中的其它动作
Until now we have seen how to add or update data using XML files. But XML  les also allow performing other types of actions, sometimes needed to set up data. In particular, they are capable in deleting the data, execute arbitrary model methods, and trigger work ow events.  

#### Deleting records 删除记录
To delete a data record we use the <delete> element, providing it with either an id or a search domain to  nd the target record.  

In Chapter 3, Inheritance – Extending Existing Applications, we had the need to remove a record rule added by the to-do app. In the todo_user/security/todo_access_ rules.xml  le a <delete> element was used, with a search domain to  nd the record to delete:  

```xml
   <delete
      model="ir.rule"
      search="[('id','=',ref('todo_app.todo_task_user_rule'))]"
   />
```

In this case the same exact effect could be achieved using the id attribute to identify
the record to delete:  

```xml
   <delete model="ir.rule" id="todo_app.todo_task_user_rule" />
```

#### Triggering functions and work flows
An XML  le can also execute methods during its load process through the <function> element. This can be used to set up demo and test data. For example, in the membership module it is used to create demonstration membership invoices:  

```xml
   <function
     model="res.partner"
     name="create_membership_invoice"
     eval="(ref('base.res_partner_2'),
       ref('membership_0'),
       {'amount':180})"
   />
```

This is calling the create_membership_invoice() method of the res.partner model. The arguments are passed as a tuple in the eval attribute. In this case we have a tuple with three arguments: the Partner ID, the Membership ID and a dictionary containing the invoice amount.  

Another way XML data  les can perform actions is by triggering Odoo work ows, through the <workflow> element.  

Work ows can, for example, change the state of a sales order or convert it into an invoice. Here is an example taken from the sale module, converting a draft sales order to the con rmed state:  

```xml
   <workflow model="sale.order"
             ref="sale_order_4" action="order_confirm" />
```

The model is self-explanatory by now, and ref identi es the work ow instance we are acting upon. The action is the work ow signal sent to that work ow instance.  

## Summary 总结
We have learned all the essentials about data serialization, and gained a better understanding of the XML aspects we saw in the previous chapters.  

我们已经学写了数据序列化的基础，

We also spent some time understanding External Identifiers, a central concept for data handling in general, and for module configurations in particular.  

我们也花了一些时间来理解外部标识符，通常情况下的数据处理的核心概念，以及特殊应用场景中模块的配置。  

XML data files were explained in detail. We learned about the several options available to set values on fields and also to perform actions such as deleting records and calling model methods.  

XML数据文件详细进行了说明。我们学习

CSV files and the data import/export features were also explained. These are valuable tools for Odoo initial setup or for mass editing of data.  

CSV文件和数据导入／导出功能也进行了说明。这些非常有用的工具被用在了Odoo初始化设置以及数据的批量修改上。  

In the next chapter are will explore in detail how to build Odoo models and later learn more about building their user interfaces.  

在接下来的章节，我们会浏览构建Odoo模型的细节，之后学习更多关于模型用户接口的构建。  
